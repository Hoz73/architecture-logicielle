<MainScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint: 1, .1
            orientation: 'horizontal'
            padding: 5,5,5,5
            spacing: 5
            ToggleButton:
                color: 1,1,1,1
                group: "cards"
                text: 'Carte 1'
                on_press: root.card = 1
            ToggleButton:
                color: 1,1,1,1
                group: "cards"
                text: 'Carte 2'
                on_press: root.card = 2
            ToggleButton:
                color: 1,1,1,1
                group: "cards"
                text: 'Carte 3'
                on_press: root.card = 3
            ToggleButton:
                color: 1,1,1,1
                group: "cards"
                text: 'Carte 4'
                on_press: root.card = 4
        FloatLayout:
            id: floatlayout
            size_hint: 1, .8
            canvas.before:
                Color:
                    rgba: .8,.8,.8,1
                Rectangle:
                    pos: self.pos
                    size: self.size
            
            # Feu signalisation
            canvas:
                Color:
                    rgba: .6,.6,.6,1
                Rectangle: 
                    pos: 102,208
                    size: 100, 300

                Color:
                    rgba: root.WHITE
                Ellipse:
                    group: 'a'
                    size: 80, 80
                    pos: 112, 418
                
                Color:
                    rgba: root.WHITE
                Ellipse:
                    group: 'a'
                    size: 80, 80
                    pos: 112, 320

                #Color:
                #    rgba: root.WHITE
                Triangle:
                    group: 'a'
                    points: [112, 218, 152, 298, 192, 218]

            # Titre
            Label:
                pos: 857,598
                size: 20,20
                size_hint: None, None
                color: 0,0,0,1
                text: "Batiments / Salles"


            # Batiment 8A
            RelativeLayout:
                pos: 790, 208
                size: 150, 120
                size_hint: None, None
                canvas:
                    Color:
                        rgba: .6,.6,.6,1
                    Rectangle:
                        pos: 0,0
                        size: self.size
                ToggleButton:
                    pos: -35,35
                    size: 70,50
                    size_hint: None, None
                    group: "bat"
                    color: 0,0,0,1
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    text: "Entree"
                    on_press: root.bat = 1
                ToggleButton:
                    pos: 70,65
                    size: 75,50
                    size_hint: None, None
                    group: "bat"
                    color: 0,0,0,1
                    text: "Salle 1"
                    on_press: root.bat = 4
                ToggleButton:
                    pos: 70,5
                    size: 75,50
                    size_hint: None, None
                    group: "bat"
                    color: 0,0,0,1
                    text: "Salle 2"
                    on_press: root.bat = 6
                Label:
                    pos: 60,-30
                    size: 15,15
                    size_hint: None, None
                    color: 0,0,0,1
                    text: "Batiment 8A"

            # Batiment 8B
            RelativeLayout:
                pos: 750, 438
                size: 215, 120
                size_hint: None, None
                canvas:
                    Color:
                        rgba: .6,.6,.6,1
                    Rectangle:
                        pos: 0,0
                        size: self.size
                ToggleButton:
                    pos: -35,35
                    size: 70,50
                    size_hint: None, None
                    group: "bat"
                    color: 0,0,0,1
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    text: "Entree\nOUEST"
                    on_press: root.bat = 11
                ToggleButton:
                    pos: 180,35
                    size: 70,50
                    size_hint: None, None
                    group: "bat"
                    color: 0,0,0,1
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    text: "Entree\nEST"
                    on_press: root.bat = 12
                ToggleButton:
                    pos: 70,35
                    size: 75,50
                    size_hint: None, None
                    group: "bat"
                    color: 0,0,0,1
                    text: "Salle 1"
                    on_press: root.bat = 13
                Label:
                    pos: 100,-30
                    size: 15,15
                    size_hint: None, None
                    color: 0,0,0,1
                    text: "Batiment 8B"

        BoxLayout:
            size_hint: 1, .1
            orientation: 'horizontal'
            padding: 5,5,5,5
            spacing: 5
            Button:
                color: 1,1,1,1
                text: 'Poser carte'
                on_press: root.check_card()
            Button:
                color: 1,1,1,1
                text: '+ Personne'
                on_press: root.add_person()
            Button:
                color: 1,1,1,1
                text: '- Personne'
                on_press: root.remove_person()
            #Button:
            #    color: 1,1,1,1
            #    text: 'Logs'